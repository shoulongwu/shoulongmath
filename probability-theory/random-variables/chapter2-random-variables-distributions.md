# 第二章：随机变量及其分布

## 📋 本章概览

**学习目标**: 理解随机变量的概念，掌握各种分布的性质和应用  
**难度等级**: ⭐⭐⭐⭐ (高难度)  
**学习时间**: 建议2-3周  
**考试分值**: 8-10分

---

## 2.1 随机变量的概念

### 2.1.1 随机变量的定义

**定义**: 设(Ω, F, P)是概率空间，X是定义在Ω上的实值函数，即对于任意ω∈Ω，X(ω)是一个实数。如果对任意实数x，集合{ω: X(ω) ≤ x}∈F，则称X为随机变量。

**直观理解**: 随机变量是将随机试验的结果映射为实数的函数。

### 2.1.2 随机变量的分类

1. **离散型随机变量**: 取值为有限个或可列个
2. **连续型随机变量**: 取值为某个区间内的所有实数
3. **混合型随机变量**: 既有离散部分又有连续部分

---

## 2.2 分布函数

### 2.2.1 分布函数的定义

设X是随机变量，对任意实数x，称
```
F(x) = P(X ≤ x), -∞ < x < +∞
```
为随机变量X的**分布函数**。

### 2.2.2 分布函数的性质

1. **有界性**: 0 ≤ F(x) ≤ 1
2. **单调性**: F(x)单调不减
3. **右连续性**: F(x+0) = F(x)
4. **极限性质**: 
   ```
   lim(x→-∞) F(x) = 0
   lim(x→+∞) F(x) = 1
   ```

### 2.2.3 分布函数的应用

```
P(a < X ≤ b) = F(b) - F(a)
P(X > a) = 1 - F(a)
P(X = a) = F(a) - F(a-0)  [左极限]
```

## 🔥 难点解析1：分布函数的性质

### 理论基础
分布函数完全刻画了随机变量的概率分布特性

### 常见陷阱
1. 忘记分布函数的右连续性
2. 混淆F(a)与F(a-0)的区别  
3. 不能正确处理边界条件

### 记忆技巧
- "分布函数像楼梯，右连续向上爬"
- "F(x)表示不超过x的概率"

### 详细例题1: 分布函数的构造

**题目**: 设随机变量X的概率密度函数为
```
f(x) = {
  cx²,  0 ≤ x ≤ 2
  0,    其他
}
```
求常数c和分布函数F(x)。

**解析步骤**:

**第一步**: 求常数c
由概率密度函数的性质：∫_{-∞}^{+∞} f(x)dx = 1

```
∫₀² cx² dx = c[x³/3]₀² = c·8/3 = 1
```
所以 c = 3/8

**第二步**: 求分布函数F(x)
```
当 x < 0 时: F(x) = 0

当 0 ≤ x ≤ 2 时: 
F(x) = ∫₀ˣ (3/8)t² dt = (3/8)·[t³/3]₀ˣ = x³/8

当 x > 2 时: F(x) = 1
```

**最终结果**:
```
F(x) = {
  0,     x < 0
  x³/8,  0 ≤ x ≤ 2  
  1,     x > 2
}
```

---

## 2.3 离散型随机变量

### 2.3.1 概率质量函数

设X是离散型随机变量，可能取值为x₁, x₂, ...，则称
```
P(X = xᵢ) = pᵢ, i = 1, 2, ...
```
为X的**概率质量函数**（PMF）。

**性质**:
1. pᵢ ≥ 0
2. ∑ᵢ pᵢ = 1

### 2.3.2 常见离散分布

#### 1. 两点分布 B(1,p)

**概率质量函数**:
```
P(X = k) = {
  1-p,  k = 0
  p,    k = 1
}
```

**应用**: 模拟成功/失败、通过/不通过等二元结果

#### 2. 二项分布 B(n,p) ⭐⭐⭐⭐

**概率质量函数**:
```
P(X = k) = C(n,k) p^k (1-p)^(n-k), k = 0,1,2,...,n
```

**参数**: n为试验次数，p为单次成功概率

**应用**: n次独立重复试验中成功次数

**例题2**: 某射手命中率为0.8，独立射击10次，求恰好命中8次的概率。

**解**: X ~ B(10, 0.8)
```
P(X = 8) = C(10,8) × 0.8⁸ × 0.2² 
         = 45 × 0.1678 × 0.04
         ≈ 0.302
```

#### 3. 泊松分布 P(λ) ⭐⭐⭐

**概率质量函数**:
```
P(X = k) = e^(-λ) λ^k / k!, k = 0,1,2,...
```

**参数**: λ > 0为平均发生率

**泊松定理**: 当n→∞，p→0，np→λ时，B(n,p) → P(λ)

**应用**: 单位时间内稀有事件的发生次数

#### 4. 几何分布 Ge(p) ⭐⭐

**概率质量函数**:
```
P(X = k) = (1-p)^(k-1) p, k = 1,2,3,...
```

**无记忆性**: P(X > m+n | X > m) = P(X > n)

**应用**: 直到首次成功所需的试验次数

#### 5. 超几何分布 H(N,M,n) ⭐

**概率质量函数**:
```
P(X = k) = C(M,k) × C(N-M,n-k) / C(N,n)
```

**参数**: 
- N: 总体大小
- M: 总体中成功元素个数  
- n: 抽取次数

**应用**: 不放回抽样问题

---

## 2.4 连续型随机变量

### 2.4.1 概率密度函数

设X是连续型随机变量，如果存在非负函数f(x)，使得对任意实数x，有
```
F(x) = ∫_{-∞}^x f(t) dt
```
则称f(x)为X的**概率密度函数**（PDF）。

**性质**:
1. f(x) ≥ 0
2. ∫_{-∞}^{+∞} f(x) dx = 1
3. P(a < X ≤ b) = ∫_a^b f(x) dx
4. P(X = a) = 0 (连续型随机变量取任意特定值的概率为0)

### 2.4.2 常见连续分布

#### 1. 均匀分布 U(a,b) ⭐⭐⭐

**概率密度函数**:
```
f(x) = {
  1/(b-a),  a ≤ x ≤ b
  0,        其他
}
```

**分布函数**:
```
F(x) = {
  0,         x < a
  (x-a)/(b-a), a ≤ x ≤ b
  1,         x > b
}
```

**几何意义**: 在区间[a,b]上"等可能"分布

#### 2. 指数分布 E(λ) ⭐⭐⭐

**概率密度函数**:
```
f(x) = {
  λe^(-λx), x ≥ 0
  0,        x < 0
}
```

**分布函数**:
```
F(x) = {
  1 - e^(-λx), x ≥ 0
  0,           x < 0
}
```

**无记忆性**: P(X > s+t | X > s) = P(X > t)

**应用**: 元件的寿命、服务时间等

#### 3. 正态分布 N(μ,σ²) ⭐⭐⭐⭐

**概率密度函数**:
```
f(x) = (1/(σ√(2π))) e^(-(x-μ)²/(2σ²)), -∞ < x < +∞
```

**参数**: μ为均值，σ²为方差

**标准正态分布** N(0,1):
```
φ(x) = (1/√(2π)) e^(-x²/2)
Φ(x) = ∫_{-∞}^x φ(t) dt
```

**标准化变换**:
```
若 X ~ N(μ,σ²)，则 Z = (X-μ)/σ ~ N(0,1)
```

## 🔥 难点解析2：正态分布的性质与应用

### 理论基础
正态分布是最重要的连续分布，具有优美的数学性质

### 关键性质
1. **对称性**: 关于μ对称
2. **再现性**: 正态分布的线性组合仍为正态分布
3. **3σ原则**: P(μ-3σ < X < μ+3σ) ≈ 0.9973

### 标准化技巧
任何正态分布问题都可以转化为标准正态分布问题求解

### 详细例题3: 正态分布的应用

**题目**: 某工厂生产的零件长度X ~ N(50, 4)（单位：mm）。现从中随机抽取一个零件，求：
1. 长度在48mm到52mm之间的概率
2. 长度超过54mm的概率
3. 长度最短的5%的零件，其长度上限是多少？

**解析**:

已知：X ~ N(50, 4)，即μ = 50，σ = 2

**第一问**: P(48 < X < 52)
```
P(48 < X < 52) = P((48-50)/2 < (X-50)/2 < (52-50)/2)
                = P(-1 < Z < 1)  [Z ~ N(0,1)]
                = Φ(1) - Φ(-1)
                = Φ(1) - (1 - Φ(1))  [对称性]
                = 2Φ(1) - 1
                = 2 × 0.8413 - 1 = 0.6826
```

**第二问**: P(X > 54)
```
P(X > 54) = P((X-50)/2 > (54-50)/2)
          = P(Z > 2)
          = 1 - Φ(2)
          = 1 - 0.9772 = 0.0228
```

**第三问**: 求x₀.₀₅，使得P(X < x₀.₀₅) = 0.05
```
P(X < x₀.₀₅) = P((X-50)/2 < (x₀.₀₅-50)/2) = 0.05

设 z₀.₀₅ = (x₀.₀₅-50)/2，则 Φ(z₀.₀₅) = 0.05

查标准正态分布表：z₀.₀₅ = -1.645

所以：x₀.₀₅ = 50 + 2×(-1.645) = 46.71 mm
```

---

## 2.5 随机变量函数的分布

### 2.5.1 离散型情况

若X是离散型随机变量，Y = g(X)，则Y的概率质量函数为：
```
P(Y = yⱼ) = ∑{i: g(xᵢ)=yⱼ} P(X = xᵢ)
```

### 2.5.2 连续型情况

#### 方法1: 分布函数法

1. 求Y的分布函数：F_Y(y) = P(Y ≤ y) = P(g(X) ≤ y)
2. 对分布函数求导得密度函数：f_Y(y) = F'_Y(y)

#### 方法2: 公式法（单调变换）

若Y = g(X)，g(x)严格单调，反函数为x = h(y)，则：
```
f_Y(y) = f_X(h(y)) |h'(y)|
```

## 🔥 难点解析3：随机变量函数的分布

### 理论基础
通过已知随机变量的分布求其函数的分布

### 解题策略
1. **单调变换**: 直接用公式法
2. **非单调变换**: 用分布函数法
3. **特殊函数**: 记住常见结果

### 详细例题4: 随机变量函数的分布

**题目**: 设X ~ U(0,1)，求Y = -2ln(X)的概率密度函数。

**解析**:

已知：X ~ U(0,1)，所以 f_X(x) = 1, 0 < x < 1

设Y = -2ln(X)，求f_Y(y)

**第一步**: 确定Y的取值范围
当0 < x < 1时，ln(x) < 0，所以-2ln(x) > 0
即Y的取值范围为(0, +∞)

**第二步**: 求反函数
y = -2ln(x) ⟹ x = e^(-y/2)

**第三步**: 计算导数
dx/dy = d/dy[e^(-y/2)] = -1/2 · e^(-y/2)

**第四步**: 应用公式
```
f_Y(y) = f_X(x) |dx/dy|
       = 1 · |-1/2 · e^(-y/2)|
       = 1/2 · e^(-y/2), y > 0
```

**结论**: Y ~ E(1/2)，即Y服从参数为1/2的指数分布。

---

## 📝 本章练习题

### 基础练习 (⭐⭐)

**练习1**: 设随机变量X的分布函数为
```
F(x) = {
  0,      x < 0
  x/2,    0 ≤ x < 2
  1,      x ≥ 2
}
```
求：(1) P(X ≤ 1)  (2) P(0.5 < X ≤ 1.5)  (3) P(X = 1)

**练习2**: 某工厂生产的电子元件的寿命X～E(0.01)（单位：小时）。求：
1. 元件工作1000小时后仍正常的概率
2. 元件工作超过1500小时的概率

### 提高练习 (⭐⭐⭐)

**练习3**: 设X～B(n,p)，Y～P(λ)。已知E[X] = E[Y] = 2，D[X] = D[Y]，求n、p、λ的值。

**练习4**: 设X～N(μ,σ²)，定义Y = (X-μ)/σ。证明Y～N(0,1)。

### 综合练习 (⭐⭐⭐⭐)

**练习5**: 设X～U(-1,1)，求Y = X²的概率密度函数。

**练习6**: 某产品的重量X～N(100,25)。为保证产品质量，规定重量在[95,105]范围内为合格品。求：
1. 产品的合格率
2. 在100件产品中，合格品数量的期望和方差

---

## 🎯 考试重点总结

### 必考知识点
1. **正态分布的标准化** (⭐⭐⭐⭐)
   - 标准化公式的应用
   - 利用标准正态分布表求概率

2. **二项分布与泊松分布** (⭐⭐⭐)
   - 参数的含义和计算
   - 泊松近似的条件

3. **随机变量函数的分布** (⭐⭐⭐)
   - 分布函数法
   - 单调变换公式

### 解题技巧
1. **正态分布问题**: 一律先标准化
2. **离散分布**: 注意参数的实际意义
3. **函数分布**: 选择合适的方法（公式法vs分布函数法）

### 常见错误
1. 混淆概率密度函数和分布函数
2. 忘记检查函数的定义域
3. 正态分布标准化时符号错误

---

**下一章预告**: 第三章将学习多维随机变量，这是概率论中的重要内容，需要用到本章的分布理论知识。